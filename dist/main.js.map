{"version":3,"file":"main.js","mappings":"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","sources":["webpack://resumablejs/webpack/universalModuleDefinition","webpack://resumablejs/./src/resumable.ts","webpack://resumablejs/./src/resumableHelpers.ts","webpack://resumablejs/./src/resumableFile.ts","webpack://resumablejs/./src/resumableChunk.ts","webpack://resumablejs/./src/resumableEventHandler.ts","webpack://resumablejs/webpack/bootstrap","webpack://resumablejs/webpack/before-startup","webpack://resumablejs/webpack/startup","webpack://resumablejs/webpack/after-startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"resumablejs\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"resumablejs\"] = factory();\n\telse\n\t\troot[\"resumablejs\"] = factory();\n})(this, function() {\nreturn ","/*\n* MIT Licensed\n*\n* For all code added/modified until Sep 24, 2020\n* (see original repo as original code was split up into multiple files)\n* https://www.twentythree.com\n* https://github.com/23/resumable.js\n* Steffen Fagerstrm Christensen, steffen@twentythree.com\n*\n* For all code added/modified since Sep 24, 2020\n* https://www.pointcloudtechnology.com/en/\n* https://github.com/pointcloudtechnology/resumable.js\n* For contact (not the sole author): Marcel Wendler, https://github.com/UniquePanda, marcel.wendler@pointcloudtechnology.com\n*/\n\nimport Helpers from './resumableHelpers';\nimport ResumableFile from './resumableFile';\nimport ResumableEventHandler from './resumableEventHandler';\nimport {DebugVerbosityLevel, ExtendedFile, ResumableChunkStatus, ResumableConfiguration} from './types/types';\n\n/**\n * An instance of a resumable upload handler that contains one or multiple files which should be uploaded in chunks.\n */\nexport class Resumable extends ResumableEventHandler {\n  private opts: ResumableConfiguration;\n  /**\n   * An object that contains one entry for every file category. The key is the category name, the value is an array of\n   * all ResumableFiles of that category that were added to this instance.\n   */\n  private files: {[key: string]: ResumableFile[]} = {};\n  /**\n   * Contains all file categories for which the upload was not yet completed.\n   */\n  private uncompletedFileCategories: string[] = [];\n  private validators: {[fileType: string]: Function} = {};\n  private support: boolean;\n\n  // Configuration Options\n  private clearInput: boolean = true;\n  private dragOverClass: string = 'dragover';\n  private fileCategories: string[] = [];\n  private defaultFileCategory: string | null = 'default';\n  private fileTypes: string[] | {[fileCategory: string]: string[]} = [];\n  private fileTypeErrorCallback: Function = (file) => {\n    alert(`${file.fileName || file.name} has an unsupported file type.`);\n  };\n  private generateUniqueIdentifier: Function = null;\n  private maxFileSize?: number;\n  private maxFileSizeErrorCallback: Function = (file) => {\n    alert(file.fileName || file.name + ' is too large, please upload files less than ' +\n      Helpers.formatSize(this.maxFileSize) + '.');\n  };\n  private maxFiles?: number;\n  private maxFilesErrorCallback: Function = (files) => {\n    var maxFiles = this.maxFiles;\n    alert('Please upload no more than ' + maxFiles + ' file' + (maxFiles === 1 ? '' : 's') + ' at a time.');\n  };\n  private minFileSize: number = 1;\n  private minFileSizeErrorCallback: Function = (file) => {\n    alert(file.fileName || file.name + ' is too small, please upload files larger than ' +\n      Helpers.formatSize(this.minFileSize) + '.');\n  };\n  private prioritizeFirstAndLastChunk: boolean = false;\n  private fileValidationErrorCallback: Function = (file) => {};\n  private simultaneousUploads: number = 3;\n\n  private debugVerbosityLevel: DebugVerbosityLevel = DebugVerbosityLevel.NONE;\n\n  constructor(options: ResumableConfiguration = {}) {\n    super();\n    this.setInstanceProperties(options);\n    this.opts = options;\n    this.checkSupport();\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Constructed Resumable.', this);\n  }\n\n  /**\n   * Check whether the current browser supports the essential functions for the package to work.\n   * The method checks if these features are supported:\n   * - File object type\n   * - Blob object type\n   * - FileList object type\n   * - slicing files\n   */\n  private checkSupport(): void {\n    this.support =\n      File !== undefined &&\n      Blob !== undefined &&\n      FileList !== undefined &&\n      !!Blob.prototype.slice;\n    if (!this.support) {\n      throw new Error('Not supported by Browser');\n    }\n  }\n\n  /**\n   * Assign the attributes of this instance via destructuring of the options object.\n   */\n  private setInstanceProperties(options: ResumableConfiguration) {\n    Object.assign(this, options);\n\n    // Explicitly test for null because other falsy values could be used as default.\n    if (this.defaultFileCategory === null) {\n      if (this.fileCategories.length === 0) {\n        throw new Error('If no default category is set, at least one file category must be defined.');\n      }\n    } else if (!this.fileCategories.includes(this.defaultFileCategory)) {\n      this.fileCategories.push(this.defaultFileCategory);\n    } else {\n      console.warn('Default file category already part of file categories array. Will not be added again.');\n    }\n\n    // To avoid any problems if the same category was added twice, we use the following loop to also deduplicate the\n    // file categories.\n    const deduplicatedFileCategories = [];\n    this.fileCategories.forEach((fileCategory) => {\n      if (this.files[fileCategory]) {\n        return;\n      }\n\n      this.files[fileCategory] = [];\n      this.uncompletedFileCategories.push(fileCategory);\n      deduplicatedFileCategories.push(fileCategory);\n    });\n\n    this.fileCategories = deduplicatedFileCategories.slice();\n\n    // Create/Check file types object.\n    if (Array.isArray(this.fileTypes)) {\n      // If fileTypes are given as an array, these types should be used for all file categores.\n      // Create the file types object and assign the given array to every file category.\n      const fileTypes = this.fileTypes.slice();\n\n      this.fileTypes = {};\n      this.fileCategories.forEach((fileCategory) => {\n        this.fileTypes[fileCategory] = fileTypes.slice();\n      });\n    } else {\n      const fileTypeCategories = Object.keys(this.fileTypes);\n      this.fileCategories.forEach((fileCategory) => {\n        if (!fileTypeCategories.includes(fileCategory)) {\n          console.warn('File category \"' + fileCategory + '\" not part of fileTypes object. Assuming empty array (which allows all file types).');\n        }\n\n        this.fileTypes[fileCategory] = [];\n      });\n    }\n\n    this.sanitizeFileTypes();\n    Helpers.printDebugHigh(this.debugVerbosityLevel, 'Set Resumable instance properties.', this);\n  }\n\n  private sanitizeFileTypes(): void {\n    Helpers.printDebugHigh(this.debugVerbosityLevel, 'Sanitizing file types...');\n    // For good behaviour we do some sanitizing. Remove spaces and dots and lowercase all.\n    Object.keys(this.fileTypes).forEach((fileCategory) => {\n      this.fileTypes[fileCategory] = this.fileTypes[fileCategory].map((type) => type.replace(/[\\s.]/g, '').toLowerCase());\n    });\n    Helpers.printDebugHigh(this.debugVerbosityLevel, 'Sanitized file types.');\n  }\n\n  private throwIfUnknownFileCategory(fileCategory: string): void {\n    if (!this.fileCategories.includes(fileCategory)) {\n      throw new Error('Unknown file category: ' + fileCategory);\n    }\n  }\n\n  /**\n   * Transforms a single fileEntry or directoryEntry item into a list of File objects this method is used to convert\n   * entries found inside dragged-and-dropped directories.\n   * @param {Object} item item to upload, may be file or directory entry\n   * @param {string} path current file path\n   */\n  private async mapDirectoryItemToFile(item: FileSystemEntry, path: string): Promise<File[]> {\n    Helpers.printDebugHigh(this.debugVerbosityLevel, 'Mapping directory item to file (' + path + ')...', item);\n    if (item.isFile) {\n      // file entry provided\n      const file = await new Promise(\n        (resolve, reject) => (item as FileSystemFileEntry).file(resolve, reject)\n      ) as ExtendedFile;\n      file.relativePath = path + file.name;\n      Helpers.printDebugHigh(\n        this.debugVerbosityLevel,\n        'Mapped directory item (FileSystemFileEntry) to file (' + path + ').',\n        file\n      );\n      return [file];\n    } else if (item.isDirectory) {\n      // directory entry provided\n      Helpers.printDebugHigh(this.debugVerbosityLevel, 'Directory item contains new directory (' + path + ').');\n      return await this.processDirectory(item as FileSystemDirectoryEntry, path + item.name + '/');\n    } else if (item instanceof File) {\n      Helpers.printDebugHigh(this.debugVerbosityLevel, 'Directory item already is a file (' + path + ').');\n      return [item];\n    }\n\n    console.warn('Item mapping did not return a file object. This might be due to an unknown file type.')\n    return [];\n  }\n\n  /**\n   * Transforms a single DataTransfer item into a File object. This may include either extracting the given file or\n   * all files inside the provided directory.\n   * @param item item to upload, may be file or directory entry\n   * @param path current file path\n   */\n  private async mapDragItemToFile(item: DataTransferItem, path: string): Promise<File[]> {\n    Helpers.printDebugHigh(this.debugVerbosityLevel, 'Mapping drag item to file (' + path + ')...', item);\n    let entry = item.webkitGetAsEntry();\n    if (entry.isDirectory) {\n      Helpers.printDebugHigh(this.debugVerbosityLevel, 'Drag item contains new directory (' + path + ').');\n      return await this.processDirectory(entry as FileSystemDirectoryEntry, path + entry.name + '/');\n    }\n\n    let file = item.getAsFile();\n    if (file instanceof File) {\n      (file as ExtendedFile).relativePath = path + file.name;\n      Helpers.printDebugHigh(this.debugVerbosityLevel, 'Mapped drag item to file (' + path + ').', file);\n      return [file];\n    }\n\n    console.warn('Item mapping did not return a file object. This might be due to an unknown file type.')\n    return [];\n  }\n\n  /**\n   * Recursively traverse a directory and collect files to upload\n   */\n  private processDirectory(directory: FileSystemDirectoryEntry, path: string): Promise<File[]> {\n    Helpers.printDebugHigh(this.debugVerbosityLevel, 'Processing directory (' + path + ')...', directory);\n    return new Promise((resolve, reject) => {\n      const dirReader = directory.createReader();\n      let allEntries = [];\n\n      const readEntries = (): void => {\n        dirReader.readEntries(async (entries: FileSystemEntry[]): Promise<void> => {\n          // Read the files batch-wise (in chrome e.g. 100 at a time)\n          if (entries.length) {\n            allEntries = allEntries.concat(entries);\n            return readEntries();\n          }\n\n          // After collecting all files, map all fileEntries to File objects\n          Helpers.printDebugHigh(\n            this.debugVerbosityLevel,\n            'Read all entries from directory (' + path + ').',\n            allEntries\n          );\n          allEntries = allEntries.map((entry) => {\n            return this.mapDirectoryItemToFile(entry, path);\n          });\n          // Wait until all files are collected.\n          resolve(await Promise.all(allEntries));\n          Helpers.printDebugHigh(this.debugVerbosityLevel, 'Processed directory (' + path + ').');\n        }, reject);\n      };\n\n      readEntries();\n    });\n  }\n\n  /**\n   * If \"assignDrop\" was used to assign the drop events to an element, we automatically add the \"dragOverClass\" CSS\n   * class to the element when a file is dropped onto it. In this case, we have to remove that class again before\n   * calling \"onDrop()\".\n   * If \"onDrop()\" is called from \"handleDropEvent()\" this is not needed.\n   */\n  private removeDragOverClassAndCallOnDrop(e: DragEvent): Promise<void> {\n    Helpers.printDebugHigh(this.debugVerbosityLevel, 'Removing drag over class and calling onDrop...', e);\n    const domNode: HTMLElement = e.currentTarget as HTMLElement;\n    domNode.classList.remove(this.dragOverClass);\n    const fileCategory = domNode.getAttribute('resumable-file-category');\n\n    Helpers.printDebugHigh(this.debugVerbosityLevel, 'Removed drag over class.');\n\n    this.throwIfUnknownFileCategory(fileCategory);\n\n    return this.onDrop(e, fileCategory);\n  }\n\n  /**\n   * Handle the event when a new file was provided via drag-and-drop\n   */\n  private async onDrop(e: DragEvent, fileCategory: string = this.defaultFileCategory): Promise<void> {\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Handling onDrop...', e, fileCategory);\n    Helpers.stopEvent(e);\n\n    let items = [];\n\n    //handle dropped things as items if we can (this lets us deal with folders nicer in some cases)\n    if (e.dataTransfer && e.dataTransfer.items) {\n      items = [...e.dataTransfer.items as any];\n    }\n    //else handle them as files\n    else if (e.dataTransfer && e.dataTransfer.files) {\n      items =  [...e.dataTransfer.files as any];\n    }\n\n    Helpers.printDebugHigh(this.debugVerbosityLevel, 'Collected items in onDrop.', items);\n\n    if (!items.length) {\n      return; // nothing to do\n    }\n    this.fire('fileProcessingBegin', items, fileCategory);\n    let promises = items.map((item) => this.mapDragItemToFile(item, ''));\n    let files = Helpers.flattenDeep(await Promise.all(promises));\n    if (files.length) {\n      Helpers.printDebugHigh(this.debugVerbosityLevel, 'Handling files in onDrop...', files);\n      // at least one file found\n      this.appendFilesFromFileList(files, e, fileCategory);\n    }\n\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Handled onDrop.');\n  }\n\n  /**\n   * Handle the event when a drag-and-drop item leaves the area of assigned drag-and-drop area\n   */\n  private onDragLeave(e: DragEvent): void {\n    (e.currentTarget as HTMLElement).classList.remove(this.dragOverClass);\n  }\n\n  /**\n   * Handle the event when a drag-and-drop item enters the area of assigned drag-and-drop area\n   */\n  private onDragOverEnter(e: DragEvent): void {\n    e.preventDefault();\n    let dt = e.dataTransfer;\n    if (dt.types.includes('Files')) { // only for file drop\n      e.stopPropagation();\n      dt.dropEffect = 'copy';\n      dt.effectAllowed = 'copy';\n      (e.currentTarget as HTMLElement).classList.add(this.dragOverClass);\n    } else {\n      dt.dropEffect = 'none';\n      dt.effectAllowed = 'none';\n    }\n  };\n\n  /**\n   * Validate and clean a list of files. This includes the removal of duplicates, a check whether the file type is\n   * allowed and custom validation functions defined per file type.\n   * @param {ExtendedFile[]} files A list of File instances that were previously extended with a uniqueIdentifier\n   * @param fileCategory The file category that has been provided for the files. Defaults to `defaultFileCategory`.\n   */\n  private async validateFiles(files: ExtendedFile[], fileCategory: string = this.defaultFileCategory): Promise<ExtendedFile[]> {\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Validating files....', files, fileCategory);\n    if (!this.fileCategories.includes(fileCategory)) {\n      this.fire('fileProcessingFailed', undefined, 'unknownFileCategory', fileCategory);\n      Helpers.printDebugLow(\n        this.debugVerbosityLevel,\n        'File validation failed because of \"unknownFileCategory\".',\n        fileCategory\n      );\n      return;\n    }\n\n    // Remove files that are duplicated in the original array, based on their unique identifiers\n    let uniqueFiles = Helpers.uniqBy(files,\n      (file) => file.uniqueIdentifier,\n      (file) => this.fire('fileProcessingFailed', file, 'duplicate', fileCategory),\n    );\n\n    const resumableFiles = this.files[fileCategory];\n    let validationPromises = uniqueFiles.map(async (file) => {\n      // Check if the file has already been added (based on its unique identifier).\n      if (resumableFiles.some((addedFile) => addedFile.uniqueIdentifier === file.uniqueIdentifier)) {\n        this.fire('fileProcessingFailed', file, 'duplicate', fileCategory);\n        Helpers.printDebugLow(this.debugVerbosityLevel, 'File validation failed because of \"duplicate\".', file);\n        return false;\n      }\n\n      let fileType: string = file.type.toLowerCase();\n      let fileExtension = file.name.split('.').pop().toLowerCase();\n\n      if (this.fileTypes[fileCategory].length > 0) {\n        const fileTypeFound = this.fileTypes[fileCategory].some((type) => {\n          // Check whether the extension inside the filename is an allowed file type\n          return fileExtension === type ||\n            // If MIME type, check for wildcard or if extension matches the file's tile type\n            type.includes('/') && (\n              type.includes('*') &&\n              fileType.substring(0, type.indexOf('*')) === type.substring(0, type.indexOf('*')) ||\n              fileType === type\n            );\n        });\n        if (!fileTypeFound) {\n          this.fire('fileProcessingFailed', file, 'fileType', fileCategory);\n          this.fileTypeErrorCallback(file);\n          Helpers.printDebugLow(this.debugVerbosityLevel, 'File validation failed because of \"fileType\".', file);\n          return false;\n        }\n      }\n\n      // Validate the file size against minimum and maximum allowed sizes\n      if (this.minFileSize !== undefined && file.size < this.minFileSize) {\n        this.fire('fileProcessingFailed', file, 'minFileSize', fileCategory);\n        this.minFileSizeErrorCallback(file);\n        Helpers.printDebugLow(this.debugVerbosityLevel, 'File validation failed because of \"minFileSize\".', file);\n        return false;\n      }\n      if (this.maxFileSize !== undefined && file.size > this.maxFileSize) {\n        this.fire('fileProcessingFailed', file, 'maxFileSize', fileCategory);\n        this.maxFileSizeErrorCallback(file);\n        return false;\n      }\n\n      // Apply a custom validator based on the file extension\n      if (fileExtension in this.validators && !await this.validators[fileExtension](file, fileCategory)) {\n        this.fire('fileProcessingFailed', file, 'validation', fileCategory);\n        this.fileValidationErrorCallback(file);\n        Helpers.printDebugLow(this.debugVerbosityLevel, 'File validation failed because of \"validation\".', file);\n        return false;\n      }\n\n      return true;\n    });\n\n    const results = await Promise.all(validationPromises);\n\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Successfully validated files.', results);\n\n    // Only include files that passed their validation tests\n    return files.filter((_v, index) => results[index]);\n  }\n\n  /**\n   * Add an array of files to this instance's file list (of the file category, if given) by creating new ResumableFiles.\n   * This includes a validation and deduplication of the provided array.\n   * @param fileList An array containing File objects\n   * @param event The event with which the fileList was provided\n   * @param fileCategory The file category that has been provided for the file. Defaults to `defaultFileCategory`.\n   */\n  private async appendFilesFromFileList(fileList: File[], event: Event, fileCategory: string = this.defaultFileCategory): Promise<boolean> {\n    Helpers.printDebugHigh(this.debugVerbosityLevel, 'Appending files from list...', fileList, event, fileCategory);\n    const resumableFiles = this.files[fileCategory];\n\n    if (!resumableFiles) {\n      this.fire('fileProcessingFailed', undefined, 'unknownFileCategory', fileCategory);\n      Helpers.printDebugHigh(\n        this.debugVerbosityLevel,\n        'Can\\'t append files from list, because of \"unknownFileCategory\"',\n        fileCategory\n      );\n      return false;\n    }\n\n    const allResumableFiles = this.getFilesOfAllCategories();\n\n    // check for uploading too many files\n    if (this.maxFiles !== undefined && this.maxFiles < fileList.length + allResumableFiles.length) {\n      // if single-file upload, file is already added, and trying to add 1 new file, simply replace the already-added file\n      if (this.maxFiles === 1 && allResumableFiles.length === 1 && fileList.length === 1) {\n        Helpers.printDebugHigh(this.debugVerbosityLevel,'Replacing already added file, because of single-file upload.');\n        this.removeFile(resumableFiles[0]);\n      } else {\n        this.fire('fileProcessingFailed', undefined, 'maxFiles', fileCategory);\n        this.maxFilesErrorCallback(fileList);\n        Helpers.printDebugHigh(\n          this.debugVerbosityLevel,\n          'Can\\'t append files from list, because of \"maxFiles\"',\n          {maxFiles: this.maxFiles, alreadyAddedFilesCount: allResumableFiles.length, newFilesCount: fileList.length}\n        );\n        return false;\n      }\n    }\n\n    // Add the unique identifier for every new file.\n    // Since this might return a promise, we have to wait until it completed.\n    const filesWithUniqueIdentifiers = await Promise.all(fileList.map(async (file: ExtendedFile): Promise<ExtendedFile> => {\n      file.uniqueIdentifier = await this.callGenerateUniqueIdentifier(file, event, fileCategory);\n      return file;\n    }));\n\n    // Validate the files and remove duplicates\n    const validatedFiles = await this.validateFiles(filesWithUniqueIdentifiers, fileCategory);\n\n    let skippedFiles = filesWithUniqueIdentifiers.filter((file) => !validatedFiles.includes(file));\n\n    Helpers.printDebugHigh(this.debugVerbosityLevel,'Creating ResumableFiles for every file from file list...');\n    for (const file of validatedFiles) {\n      let f = new ResumableFile(file, file.uniqueIdentifier, fileCategory, this.opts);\n      f.on('chunkingStart', (...args) => this.handleChunkingStart(args, fileCategory));\n      f.on('chunkingProgress', (...args) => this.handleChunkingProgress(args, fileCategory));\n      f.on('chunkingComplete', (...args) => this.handleChunkingComplete(args, fileCategory));\n      f.on('chunkSuccess', (...args) => this.handleChunkSuccess(args, fileCategory));\n      f.on('chunkError', (...args) => this.handleChunkError(args, fileCategory));\n      f.on('chunkCancel', (...args) => this.handleChunkCancel(args, fileCategory));\n      f.on('chunkRetry', (...args) => this.handleChunkRetry(args, fileCategory));\n      f.on('chunkProgress', (...args) => this.handleChunkProgress(args, fileCategory));\n      f.on('fileProgress', (...args) => this.handleFileProgress(args, fileCategory));\n      f.on('fileError', (...args) => this.handleFileError(args, fileCategory));\n      f.on('fileSuccess', (...args) => this.handleFileSuccess(args, fileCategory));\n      f.on('fileCancel', (...args) => this.handleFileCancel(args, fileCategory));\n      f.on('fileRetry', (...args) => this.handleFileRetry(args, fileCategory));\n      this.files[fileCategory].push(f);\n      this.fire('fileAdded', f, event, fileCategory);\n      Helpers.printDebugHigh(this.debugVerbosityLevel,'Created ResumableFile.', file, f);\n    }\n    Helpers.printDebugHigh(this.debugVerbosityLevel,'Created ResumableFiles for every file from file list.');\n\n    // all files processed, trigger event\n    if (!validatedFiles.length && !skippedFiles.length) {\n      // no succeeded files, just skip\n      return;\n    }\n    this.fire('filesAdded', validatedFiles, skippedFiles, fileCategory);\n\n    Helpers.printDebugHigh(this.debugVerbosityLevel, 'Appended all files from list.');\n  }\n\n  /**\n   * Generate a new unique identifier for a given file either with a default helper function or with a custom\n   * generator function.\n   * @param file The file as an HTML 5 File object\n   * @param event The event with which the file was provided originally\n   * @param fileCategory The file category that has been provided for the file. Defaults to `defaultFileCategory`.\n   */\n  private callGenerateUniqueIdentifier(file: File, event: Event, fileCategory: string = this.defaultFileCategory): string {\n    return typeof this.generateUniqueIdentifier === 'function' ?\n      this.generateUniqueIdentifier(file, event, fileCategory) : Helpers.generateUniqueIdentifier(file);\n  }\n\n  /**\n   * Queue a new chunk to be uploaded that is currently awaiting upload.\n   */\n  private uploadNextChunk(): void {\n    Helpers.printDebugHigh(this.debugVerbosityLevel, 'Queueing next chunk upload...');\n    const allResumableFiles = this.getFilesOfAllCategories();\n\n    // In some cases (such as videos) it's really handy to upload the first\n    // and last chunk of a file quickly; this lets the server check the file's\n    // metadata and determine if there's even a point in continuing.\n    if (this.prioritizeFirstAndLastChunk) {\n      for (const file of allResumableFiles) {\n        if (file.chunks.length && file.chunks[0].status === ResumableChunkStatus.PENDING) {\n          file.chunks[0].send();\n          Helpers.printDebugHigh(this.debugVerbosityLevel, 'Queued upload of prioritized first chunk.', file);\n          return;\n        }\n        if (file.chunks.length > 1 && file.chunks[file.chunks.length - 1].status === ResumableChunkStatus.PENDING) {\n          file.chunks[file.chunks.length - 1].send();\n          Helpers.printDebugHigh(this.debugVerbosityLevel, 'Queued upload of prioritized last chunk.', file);\n          return;\n        }\n      }\n    }\n\n    // Now, simply look for the next best thing to upload\n    for (const file of allResumableFiles) {\n      if (file.upload()) {\n        Helpers.printDebugHigh(this.debugVerbosityLevel, 'Queued upload of next chunk.', file);\n        return;\n      }\n    }\n  }\n\n  /**\n   * Returns all ResumableFiles of all file categories.\n   * The files are ordered by the order of the file categories in `this.fileCategories`. Files of the first category\n   * are added first, files of the second category are added second etc.\n   *\n   * @returns {ResumableFile[]} Array of all ResumableFiles that are stored for any category.\n   */\n  private getFilesOfAllCategories(): ResumableFile[] {\n    let allFiles = [];\n\n    this.fileCategories.forEach((fileCategory) => {\n      allFiles = allFiles.concat(this.files[fileCategory]);\n    });\n\n    return allFiles;\n  }\n\n  /**\n   *  PUBLIC METHODS FOR RESUMABLE.JS\n   *  This section only includes methods that should be callable from external packages.\n   */\n\n  /**\n   * Assign a browse action to one or more DOM nodes. Pass in true to allow directories to be selected (Chrome only).\n   *\n   * @param domNodes The dom nodes to which the browse action should be assigned (can be an array or a single dom node).\n   * @param isDirectory If true, directories can be added via the file picker (Chrome only).\n   * @param fileCategory The file category that will be assigned to all added files. Defaults to `defaultFileCategory`.\n   */\n  assignBrowse(domNodes: HTMLElement | HTMLElement[], isDirectory: boolean = false, fileCategory: string = this.defaultFileCategory): void {\n    Helpers.printDebugLow(\n      this.debugVerbosityLevel,\n      'Assigning browse to DOM nodes...',\n      domNodes,\n      {isDirectory: isDirectory},\n      fileCategory\n    );\n    this.throwIfUnknownFileCategory(fileCategory);\n\n    if (domNodes instanceof HTMLElement) domNodes = [domNodes];\n    for (const domNode of domNodes) {\n      let input;\n      if (domNode instanceof HTMLInputElement && domNode.type === 'file') {\n        input = domNode;\n      } else {\n        input = document.createElement('input');\n        input.setAttribute('type', 'file');\n        input.style.display = 'none';\n        domNode.addEventListener('click', () => {\n          input.style.opacity = 0;\n          input.style.display = 'block';\n          input.focus();\n          input.click();\n          input.style.display = 'none';\n        }, false);\n        domNode.appendChild(input);\n      }\n      if (this.maxFiles !== 1) {\n        input.setAttribute('multiple', 'multiple');\n      } else {\n        input.removeAttribute('multiple');\n      }\n      if (isDirectory) {\n        input.setAttribute('webkitdirectory', 'webkitdirectory');\n      } else {\n        input.removeAttribute('webkitdirectory');\n      }\n\n      // Call setFileTypes() without changing the file types to just update the file types which are accepted by the\n      // input dom element.\n      this.setFileTypes(this.fileTypes[fileCategory], input, fileCategory);\n\n      input.addEventListener(\n        'change',\n        (event: InputEvent) => {\n          this.handleChangeEvent(event, fileCategory);\n        },\n        false\n      );\n\n      Helpers.printDebugHigh(this.debugVerbosityLevel, 'Added input (for browse) to DOM node.', domNode, input);\n    }\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Assigned browse to DOM nodes.', domNodes);\n  }\n\n  /**\n   * Assign one or more DOM nodes as a drop target.\n   *\n   * @param domNodes The dom nodes to which the drop action should be assigned (can be an array or a single dom node).\n   * @param fileCategory The file category that will be assigned to all added files. Defaults to `defaultFileCategory`. \n   */\n  assignDrop(domNodes: HTMLElement | HTMLElement[], fileCategory: string = this.defaultFileCategory): void {\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Assigning drop to DOM nodes...', domNodes, fileCategory);\n    this.throwIfUnknownFileCategory(fileCategory);\n\n    if (domNodes instanceof HTMLElement) domNodes = [domNodes];\n\n    for (const domNode of domNodes) {\n      if (fileCategory) {\n        // Assign the file category as attribute to the Dom node. This is needed because this information needs to be read\n        // in the \"drop\" event listener, but we can't pass a value into the listener directly. Unfortunately we can't use\n        // an arrow function as a wrapper here (as done in assignBrowse()) because we need to be able to access the same\n        // function in unAssignDrop().\n        domNode.setAttribute('resumable-file-category', fileCategory);\n      }\n\n      domNode.addEventListener('dragover', this.onDragOverEnter.bind(this), false);\n      domNode.addEventListener('dragenter', this.onDragOverEnter.bind(this), false);\n      domNode.addEventListener('dragleave', this.onDragLeave.bind(this), false);\n      domNode.addEventListener('drop', this.removeDragOverClassAndCallOnDrop.bind(this), false);\n    }\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Assigned drop to DOM nodes.', domNodes);\n  }\n\n  /**\n   * Remove one or more DOM nodes as a drop target.\n   */\n  unAssignDrop(domNodes: HTMLElement | HTMLElement[]): void {\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Unassigning drop from DOM nodes...', domNodes);\n    if (domNodes instanceof HTMLElement) domNodes = [domNodes];\n\n    for (const domNode of domNodes) {\n      domNode.removeEventListener('dragover', this.onDragOverEnter.bind(this));\n      domNode.removeEventListener('dragenter', this.onDragOverEnter.bind(this));\n      domNode.removeEventListener('dragleave', this.onDragLeave.bind(this));\n      domNode.removeEventListener('drop', this.removeDragOverClassAndCallOnDrop.bind(this));\n    }\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Unassigned drop from DOM nodes.', domNodes);\n  }\n\n  /**\n   * Set the file types allowed to upload.\n   * Per default the file types are updated for the default file category.\n   * Optionally pass a dom node on which the accepted file types should be updated as well.\n   *\n   * @param fileTypes String array of all allowed file types\n   * @param domNode An optional HTMLInputElement for which the \"accepted\" attribute should be updated accordingly.\n   * @param fileCategory The file category for which the file types should be updated. Defaults to `defaultFileCategory`.\n   */\n  setFileTypes(fileTypes: string[], domNode: HTMLInputElement = null, fileCategory: string = this.defaultFileCategory): void {\n    Helpers.printDebugLow(\n      this.debugVerbosityLevel,\n      'Setting file types for DOM node...',\n      fileTypes,\n      domNode,\n      fileCategory\n    );\n    this.throwIfUnknownFileCategory(fileCategory);\n\n    if (domNode && domNode.type !== 'file') {\n      throw new Error('Dom node is not a file input.');\n    }\n\n    // Store new file types and sanitize them.\n    this.fileTypes[fileCategory] = fileTypes;\n    this.sanitizeFileTypes();\n\n    if (domNode) {\n      if (fileTypes.length >= 1) {\n        // Set the new file types as \"accepted\" by the given dom node.\n        domNode.setAttribute('accept', this.fileTypes[fileCategory].map((type) => {\n          if (type.match(/^[^.][^/]+$/)) {\n            type = '.' + type;\n          }\n          return type;\n        }).join(','));\n      } else {\n        // Make all file types \"accepted\" by the given dom node.\n        domNode.removeAttribute('accept');\n      }\n    }\n\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Set file types for DOM node.');\n  }\n\n  /**\n   * Check whether any files are currently uploading\n   */\n  get isUploading(): boolean {\n    return this.getFilesOfAllCategories().some((file) => file.isUploading);\n  }\n\n  /**\n   * Start or resume the upload of the provided files by initiating the upload of the first chunk\n   */\n  upload(): void {\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Starting Upload...');\n    // Make sure we don't start too many uploads at once\n    if (this.isUploading) {\n      Helpers.printDebugLow(this.debugVerbosityLevel, 'Already uploading. Not starting again.');\n      return;\n    }\n    // Kick off the queue\n    this.fire('uploadStart');\n    for (let num = 1;num <= this.simultaneousUploads;num++) {\n      Helpers.printDebugHigh(\n        this.debugVerbosityLevel,\n        'Starting simultaneous upload ' + num + ' / ' + this.simultaneousUploads + '...',\n      );\n      this.uploadNextChunk();\n      Helpers.printDebugHigh(\n        this.debugVerbosityLevel,\n        'Started simultaneous upload ' + num + ' / ' + this.simultaneousUploads + '...',\n      );\n    }\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Started Upload.');\n  }\n\n  /**\n   * Pause the upload\n   */\n  pause(): void {\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Pausing Upload...');\n    // Resume all chunks currently being uploaded\n    for (const file of this.getFilesOfAllCategories()) {\n      file.abort();\n    }\n    this.fire('pause');\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Paused Upload.');\n  };\n\n  /**\n   * Cancel uploading and reset all files to their initial states\n   */\n  cancel(): void {\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Cancelling Upload...');\n    this.fire('beforeCancel');\n    const allFiles = this.getFilesOfAllCategories();\n    allFiles.forEach((file) => {\n      file.cancel();\n    });\n\n    this.fire('cancel');\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Cancelled Upload.');\n  };\n\n  /**\n   * Return the progress of the current upload as a float between 0 and 1\n   */\n  progress(): number {\n    let totalDone = this.getFilesOfAllCategories().reduce((accumulator, file) => accumulator + file.size * file.progress(), 0);\n    let totalSize = this.getSize();\n    return totalSize > 0 ? totalDone / totalSize : 0;\n  };\n\n  /**\n   * Add a HTML5 File object to the list of files.\n   */\n  addFile(file: File, event: Event, fileCategory: string = this.defaultFileCategory): void {\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Adding file...', file, event, fileCategory);\n    this.throwIfUnknownFileCategory(fileCategory);\n\n    this.appendFilesFromFileList([file], event, fileCategory);\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Added file.', file);\n  };\n\n  /**\n   * Add a list of HTML5 File objects to the list of files.\n   */\n  addFiles(files: File[], event: Event, fileCategory: string = this.defaultFileCategory): void {\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Adding files...', files, event, fileCategory);\n    this.throwIfUnknownFileCategory(fileCategory);\n\n    this.appendFilesFromFileList(files, event, fileCategory);\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Added files.', files);\n  };\n\n  /**\n   * Add a validator function for the given file type. This can e.g. be used to read the file and validate\n   * checksums based on certain properties.\n   * @param fileType The file extension for the given validator\n   * @param validator A callback function that should be called when validating files with the given type\n   */\n  addFileValidator(fileType: string, validator: Function): void {\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Adding file validator for file type...', fileType);\n    if (fileType in this.validators) {\n      console.warn(`Overwriting validator for file type: ${fileType}`);\n    }\n    this.validators[fileType] = validator;\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Added file validator for file type.', fileType);\n  }\n\n  /**\n   * Remove the given resumable file from the file list (of its corresponding file category).\n   */\n  removeFile(file: ResumableFile): void {\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Removing file...', file);\n    const fileCategory = file.fileCategory;\n    const fileIndex = this.files[fileCategory].findIndex(\n      (fileFromArray) => fileFromArray.uniqueIdentifier === file.uniqueIdentifier\n    );\n\n    if (fileIndex >= 0) {\n      this.files[fileCategory].splice(fileIndex, 1);\n    }\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Removed file.', file);\n  };\n\n  /**\n   * Retrieve a ResumableFile object from the file list by its unique identifier.\n   */\n  getFromUniqueIdentifier(uniqueIdentifier: string): ResumableFile {\n    return this.getFilesOfAllCategories().find((file) => file.uniqueIdentifier === uniqueIdentifier);\n  };\n\n  /**\n   * Get the combined size of all files for the upload\n   */\n  getSize(): number {\n    return this.getFilesOfAllCategories().reduce((accumulator, file) => accumulator + file.size, 0);\n  }\n\n  /**\n   * Call the event handler for a DragEvent (when a file is dropped on a drop area).\n   */\n  handleDropEvent(e: DragEvent, fileCategory: string = this.defaultFileCategory): void {\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Handling drop event...', e, fileCategory);\n    this.throwIfUnknownFileCategory(fileCategory);\n\n    this.onDrop(e, fileCategory);\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Handled drop event.');\n  }\n\n  /**\n   * Call the event handler for an InputEvent (i.e. received one or multiple files).\n   */\n  handleChangeEvent(e: InputEvent, fileCategory: string = this.defaultFileCategory): void {\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Handling change event...', e, fileCategory);\n    this.throwIfUnknownFileCategory(fileCategory);\n\n    const eventTarget = e.target as HTMLInputElement;\n    this.fire('fileProcessingBegin', eventTarget.files, fileCategory);\n    this.appendFilesFromFileList([...eventTarget.files as any], e, fileCategory);\n    if (this.clearInput) {\n      eventTarget.value = '';\n    }\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Handled change event.');\n  }\n\n  /**\n   * Check whether the upload is completed (if all files of a category are uploaded and if all files in general are\n   * uploaded).\n   */\n  private checkUploadComplete(): void {\n    Helpers.printDebugHigh(this.debugVerbosityLevel, 'Checking for upload completion...');\n    // If no files were added, there is no upload that could be complete.\n    if (this.getFilesOfAllCategories().length === 0) {\n      return;\n    }\n\n    const stillUncompletedFileCategories = [];\n    this.uncompletedFileCategories.forEach((fileCategory) => {\n      // If category is empty, no upload will happen, so no \"complete\" event needs to be fired.\n      if (this.files[fileCategory].length == 0) {\n        return;\n      }\n\n      if (this.files[fileCategory].every((file) => file.isComplete)) {\n        this.fire('categoryComplete', fileCategory);\n      } else {\n        stillUncompletedFileCategories.push(fileCategory);\n      }\n    });\n\n    this.uncompletedFileCategories = stillUncompletedFileCategories;\n\n    if (this.uncompletedFileCategories.length === 0) {\n      // All chunks have been uploaded, complete\n      this.fire('complete');\n    }\n\n    Helpers.printDebugHigh(\n      this.debugVerbosityLevel,\n      'Checked for upload completion. Upload completed: ' + (this.uncompletedFileCategories.length ? 'no' : 'yes')\n    );\n  }\n\n  /**\n   * Event Handlers: This section should only include methods that are used to\n   * handle events coming from the files or chunks.\n   */\n\n  /**\n   * The event handler when the chunking of a file was started\n   */\n  private handleChunkingStart(args: any[], fileCategory: string): void {\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Handling \"chunkingStart\" in main resumable object...', args);\n    this.fire('chunkingStart', ...args, fileCategory);\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Handled \"chunkingStart\" in main resumable object.', args);\n  }\n\n  /**\n   * The event handler when there was any progress while chunking a file\n   */\n  private handleChunkingProgress(args: any[], fileCategory: string): void {\n    // No debugging messages because this would really spam the console.\n    this.fire('chunkingProgress', ...args, fileCategory);\n  }\n\n  /**\n   * The event handler when the chunking of a file was completed\n   */\n  private handleChunkingComplete(args: any[], fileCategory: string): void {\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Handling \"chunkingComplete\" in main resumable object...', args);\n    this.fire('chunkingComplete', ...args, fileCategory);\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Handled \"chunkingComplete\" in main resumable object.', args);\n  }\n\n  /**\n   * The event handler when a chunk was uploaded successfully\n   */\n  private handleChunkSuccess(args: any[], fileCategory: string): void {\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Handling \"chunkSuccess\" in main resumable object...', args);\n    this.fire('chunkSuccess', ...args, fileCategory);\n    this.uploadNextChunk();\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Handled \"chunkSuccess\" in main resumable object.', args);\n  }\n\n  /**\n   * The event handler when an error happened while uploading a chunk\n   */\n  private handleChunkError(args: any[], fileCategory: string): void {\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Handling \"chunkError\" in main resumable object...', args);\n    this.fire('chunkError', ...args, fileCategory);\n    this.uploadNextChunk();\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Handled \"chunkError\" in main resumable object.', args);\n  }\n\n  /**\n   * The event handler when an the upload of a chunk was canceled\n   */\n  private handleChunkCancel(args: any[], fileCategory: string): void {\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Handling \"chunkCancel\" in main resumable object...', args);\n    this.fire('chunkCancel', ...args, fileCategory);\n    this.uploadNextChunk();\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Handled \"chunkCancel\" in main resumable object.', args);\n  }\n\n  /**\n   * The event handler when the upload of a chunk is being retried\n   */\n  private handleChunkRetry(args: any[], fileCategory: string): void {\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Handling \"chunkRetry\" in main resumable object...', args);\n    this.fire('chunkRetry', ...args, fileCategory);\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Handled \"chunkRetry\" in main resumable object.', args);\n  }\n\n  /**\n   * The event handler when there is any progress while uploading a chunk\n   */\n  private handleChunkProgress(args: any[], fileCategory: string): void {\n    // No debugging messages because this would really spam the console.\n    this.fire('chunkProgress', ...args, fileCategory);\n  }\n\n  /**\n   * The event handler when an error occurred during the upload of a file\n   */\n  private handleFileError(args: any[], fileCategory: string): void {\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Handling \"fileError\" in main resumable object...', args);\n    this.fire('fileError', ...args, fileCategory);\n    // 'error' event for backward compatibility ('fileError' was not fired in previous versions).\n    // If there will be other errors besides 'fileError's at some point, the 'error' event (as a general \"catch all\n    // errors\" event) would make more sense.\n    this.fire('error', args[1], args[0], fileCategory);\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Handled \"fileError\" in main resumable object.', args);\n  }\n\n  /**\n   * The event handler when all chunks from a file were uploaded successfully\n   */\n  private handleFileSuccess(args: any[], fileCategory: string): void {\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Handling \"fileSuccess\" in main resumable object...', args);\n    this.fire('fileSuccess', ...args, fileCategory);\n    this.checkUploadComplete();\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Handled \"fileSuccess\" in main resumable object.', args);\n  }\n\n  /**\n   * The event handler when a file progress event was received\n   */\n  private handleFileProgress(args: any[], fileCategory: string): void {\n    // No debugging messages because this would really spam the console.\n    this.fire('fileProgress', ...args, fileCategory);\n    this.fire('progress');\n  }\n\n  /**\n   * The event handler when the upload of a file was canceled\n   */\n  private handleFileCancel(args: any[], fileCategory: string): void {\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Handling \"fileCancel\" in main resumable object...', args);\n    this.fire('fileCancel', ...args, fileCategory);\n    this.removeFile(args[0]);\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Handled \"fileCancel\" in main resumable object.', args);\n  }\n\n  /**\n   * The event handler, when the retry of a file was initiated\n   */\n  private handleFileRetry(args: any[], fileCategory: string): void {\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Handling \"fileRetry\" in main resumable object...', args);\n    this.fire('fileRetry', ...args, fileCategory);\n    this.upload();\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Handled \"fileRetry\" in main resumable object.', args);\n  }\n}\n","/*\n* MIT Licensed\n*\n* For all code added/modified until Sep 24, 2020\n* (see original repo as original code was split up into multiple files)\n* https://www.twentythree.com\n* https://github.com/23/resumable.js\n* Steffen Fagerstrm Christensen, steffen@twentythree.com\n*\n* For all code added/modified since Sep 24, 2020\n* https://www.pointcloudtechnology.com/en/\n* https://github.com/pointcloudtechnology/resumable.js\n* For contact (not the sole author): Marcel Wendler, https://github.com/UniquePanda, marcel.wendler@pointcloudtechnology.com\n*/\n\n// INTERNAL HELPER METHODS (handy, but ultimately not part of uploading)\nimport {DebugVerbosityLevel, ExtendedFile} from \"./types/types\";\n\nexport default class ResumableHelpers {\n  /**\n   * Stop the propagation and default behavior of the given event `e`.\n   */\n  static stopEvent(e: Event): void {\n    e.stopPropagation();\n    e.preventDefault();\n  }\n\n  /**\n   * Generate a unique identifier for the given file based on its size and filename.\n   * @param {ExtendedFile} file The file for which the identifier should be generated\n   * @returns {string} The unique identifier for the given file object\n   */\n  static generateUniqueIdentifier(file: ExtendedFile): string {\n    // Remove special characters\n    return (file.size + '-' + file.name.replace(/[^0-9a-zA-Z_-]/img, ''));\n  }\n\n  /**\n   * Flatten the given array and all contained subarrays.\n   * Credit: {@link https://github.com/you-dont-need/You-Dont-Need-Lodash-Underscore#_flattendeep}\n   */\n  static flattenDeep(array: any[]): any[] {\n    return Array.isArray(array)\n      ? array.reduce((a, b) => a.concat(this.flattenDeep(b)), [])\n      : [array];\n  }\n\n  /**\n   * Filter the given array based on the predicate inside `callback`\n   * and executes `errorCallback` for duplicate elements.\n   */\n  static uniqBy(array: any[], callback: Function, errorCallback: Function): any[] {\n    let seen = new Set();\n    return array.filter((item) => {\n      let k = callback(item);\n      if (seen.has(k)) {\n        errorCallback(item);\n        return false;\n      } else {\n        seen.add(k);\n        return true;\n      }\n    });\n  }\n\n  /**\n   * Format the size given in Bytes in a human readable format.\n   */\n  static formatSize(size: number): string {\n    if (size < 1024) {\n      return size + ' bytes';\n    }\n    if (size < 1024 * 1024) {\n      return (size / 1024.0).toFixed(0) + ' KB';\n    }\n    if (size < 1024 * 1024 * 1024) {\n      return (size / 1024.0 / 1024.0).toFixed(1) + ' MB';\n    }\n    return (size / 1024.0 / 1024.0 / 1024.0).toFixed(1) + ' GB';\n  }\n\n  /**\n   * Get the target url for the specified request type and params\n   */\n  static getTarget(\n    requestType: string,\n    sendTarget: string,\n    testTarget: string,\n    params: object,\n    parameterNamespace: string = ''\n  ) {\n    let target = sendTarget;\n\n    if (requestType === 'test' && testTarget) {\n      target = testTarget === '/' ? sendTarget : testTarget;\n    }\n\n    let separator = target.indexOf('?') < 0 ? '?' : '&';\n    let joinedParams = Object.entries(params).map(([key, value]) => [\n      encodeURIComponent(parameterNamespace + key),\n      encodeURIComponent(value),\n    ].join('=')).join('&');\n\n    if (joinedParams) target = target + separator + joinedParams;\n\n    return target;\n  }\n\n  /**\n   * If given debugVerbosityLevel is LOW or higher, print message to debug log.\n   * Optional any number of arguments can be provided. They will be passed directly as additional arguments to the\n   * console call.\n   */\n  static printDebugLow(debugVerbosityLevel: DebugVerbosityLevel, message: string, ...args): void {\n    if (debugVerbosityLevel === DebugVerbosityLevel.LOW || debugVerbosityLevel === DebugVerbosityLevel.HIGH) {\n      console.debug(message, ...args);\n    }\n  }\n\n  /**\n   * If given debugVerbosityLevel is HIGH, print message to debug log.\n   * Optional any number of arguments can be provided. They will be passed directly as additional arguments to the\n   * console call.\n   */\n  static printDebugHigh(debugVerbosityLevel: DebugVerbosityLevel, message: string, ...args): void {\n    if (debugVerbosityLevel === DebugVerbosityLevel.HIGH) {\n      console.debug(message, ...args);\n    }\n  }\n}\n","/*\n* MIT Licensed\n*\n* For all code added/modified until Sep 24, 2020\n* (see original repo as original code was split up into multiple files)\n* https://www.twentythree.com\n* https://github.com/23/resumable.js\n* Steffen Fagerstrm Christensen, steffen@twentythree.com\n*\n* For all code added/modified since Sep 24, 2020\n* https://www.pointcloudtechnology.com/en/\n* https://github.com/pointcloudtechnology/resumable.js\n* For contact (not the sole author): Marcel Wendler, https://github.com/UniquePanda, marcel.wendler@pointcloudtechnology.com\n*/\n\nimport ResumableChunk from './resumableChunk';\nimport Helpers from './resumableHelpers';\nimport ResumableEventHandler from './resumableEventHandler';\nimport {DebugVerbosityLevel, ResumableChunkStatus, ResumableConfiguration} from './types/types';\n\n/**\n * A single file object that should be uploaded in multiple chunks\n */\nexport default class ResumableFile extends ResumableEventHandler {\n  private opts: ResumableConfiguration;\n  private _prevProgress: number = 0;\n  private isPaused: boolean = false;\n\n  private _file: File;\n  private _fileName: string;\n  private _size: number;\n  private _relativePath: string;\n  private _uniqueIdentifier: string;\n  private _fileCategory: string;\n  private _error: boolean;\n  private _chunks: ResumableChunk[] = [];\n  private chunkSize: number = 1024 * 1024; // 1 MB\n\n  private debugVerbosityLevel: DebugVerbosityLevel = DebugVerbosityLevel.NONE;\n\n  constructor(file: File, uniqueIdentifier: string, fileCategory: string, options: object) {\n    super();\n    this.opts = options;\n    this.setInstanceProperties(options);\n    this._file = file;\n    this._fileName = file.name;\n    this._size = file.size;\n    this._relativePath = file.webkitRelativePath || this._fileName;\n    this._uniqueIdentifier = uniqueIdentifier;\n    this._fileCategory = fileCategory;\n    this._error = uniqueIdentifier !== undefined;\n\n    // Bootstrap file\n    this.fire('chunkingStart', this);\n    this.bootstrap();\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Constructed ResumableFile.', this);\n  }\n\n  /**\n   * Set the options provided inside the configuration object on this instance\n   */\n  private setInstanceProperties(options: ResumableConfiguration) {\n    Object.assign(this, options);\n    Helpers.printDebugHigh(this.debugVerbosityLevel, 'Set ResumableFile instance properties.', this);\n  }\n\n  get file(): File {\n    return this._file;\n  }\n\n  get fileName(): string {\n    return this._fileName;\n  }\n\n  get size(): number {\n    return this._size;\n  }\n\n  get relativePath(): string {\n    return this._relativePath;\n  }\n\n  get uniqueIdentifier(): string {\n    return this._uniqueIdentifier;\n  }\n\n  get fileCategory(): string {\n    return this._fileCategory;\n  }\n\n  get chunks(): ResumableChunk[] {\n    return this._chunks;\n  }\n\n  /**\n   * Stop current uploads for this file\n   */\n  abort(): void {\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Aborting upload of ResumableFile...', this);\n    let abortCount = 0;\n    for (const chunk of this._chunks) {\n      if (chunk.status === ResumableChunkStatus.UPLOADING) {\n        chunk.abort();\n        abortCount++;\n      }\n    }\n    if (abortCount > 0) this.fire('fileProgress', this, null);\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Aborted upload of ResumableFile.', this);\n  }\n\n  /**\n   * Cancel uploading this file and remove it from the file list\n   */\n  cancel(): void {\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Cancelling upload of ResumableFile...', this);\n    for (const chunk of this._chunks) {\n      if (chunk.status === ResumableChunkStatus.UPLOADING) {\n        chunk.abort();\n        this.fire('chunkCancel', chunk);\n      }\n    }\n    // Reset this file to be void\n    this._chunks = [];\n    this.fire('fileCancel', this);\n    this.fire('fileProgress', this, null);\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Cancelled upload of ResumableFile.', this);\n  }\n\n  /**\n   * Retry uploading this file\n   */\n  retry(): void {\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Retrying upload of ResumableFile...', this);\n    this.bootstrap();\n    let firedRetry = false;\n    this.on('chunkingComplete', () => {\n      if (!firedRetry) this.fire('fileRetry', this, null);\n      firedRetry = true;\n    });\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Retried upload of ResumableFile.', this);\n  }\n\n  /**\n   * Prepare this file for a new upload, by dividing it into multiple chunks\n   */\n  private bootstrap(): void {\n    Helpers.printDebugHigh(this.debugVerbosityLevel, 'Bootstrapping and chunking ResumableFile...', this);\n    const progressHandler = (message, chunk) => {\n      // No debugging messages because this would really spam the console.\n      this.fire('chunkProgress', chunk, message);\n      this.fire('fileProgress', this, message);\n    };\n    const retryHandler = (message, chunk) => {\n      Helpers.printDebugHigh(this.debugVerbosityLevel, 'Handling \"chunkRetry\" in ResumableFile...', this, chunk, message);\n      this.fire('chunkRetry', chunk, message);\n      this.fire('fileRetry', this, message);\n      Helpers.printDebugHigh(this.debugVerbosityLevel, 'Handled \"chunkRetry\" in ResumableFile.', this, chunk, message);\n    }\n    const successHandler = (message, chunk) => {\n      Helpers.printDebugHigh(this.debugVerbosityLevel, 'Handling \"chunkSuccess\" in ResumableFile...', this, chunk, message);\n      if (this._error) return;\n      this.fire('chunkSuccess', chunk, message);\n      this.fire('fileProgress', this, message);\n      if (this.isComplete) {\n        this.fire('fileSuccess', this, message);\n      }\n      Helpers.printDebugHigh(this.debugVerbosityLevel, 'Handled \"chunkSuccess\" in ResumableFile.', this, chunk, message);\n    };\n    const errorHandler = (message, chunk) => {\n      Helpers.printDebugHigh(this.debugVerbosityLevel, 'Handling \"chunkError\" in ResumableFile...', this, chunk, message);\n      this.fire('chunkError', chunk, message);\n      this.abort();\n      this._error = true;\n      this._chunks = [];\n      this.fire('fileError', this, message);\n      Helpers.printDebugHigh(this.debugVerbosityLevel, 'Handled \"chunkError\" in ResumableFile.', this, chunk, message);\n    }\n\n    this.abort();\n    this._error = false;\n    // Rebuild stack of chunks from file\n    this._chunks = [];\n    this._prevProgress = 0;\n    const maxOffset = Math.max(Math.ceil(this._size / this.chunkSize), 1);\n    for (var offset = 0; offset < maxOffset; offset++) {\n      const chunk = new ResumableChunk(this, offset, this.opts);\n      chunk.on('chunkProgress', (message) => progressHandler(message, chunk));\n      chunk.on('chunkError', (message) => errorHandler(message, chunk));\n      chunk.on('chunkSuccess', (message) => successHandler(message, chunk));\n      chunk.on('chunkRetry', (message) => retryHandler(message, chunk));\n      this._chunks.push(chunk);\n      this.fire('chunkingProgress', this, offset / maxOffset);\n    }\n    this.fire('chunkingComplete', this);\n    Helpers.printDebugHigh(this.debugVerbosityLevel, 'Bootstrapped and chunked ResumableFile.', this);\n  }\n\n  /**\n   * Get the progress for uploading this file based on the progress of the individual file chunks\n   */\n  progress(): number {\n    if (this._error) return 1;\n    // Sum up progress across everything\n    var ret = 0;\n    var error = false;\n    for (const chunk of this._chunks) {\n      if (chunk.status === ResumableChunkStatus.ERROR) error = true;\n      ret += chunk.progress(true); // get chunk progress relative to entire file\n    }\n    ret = error ? 1 : (ret > 0.99999 ? 1 : ret);\n    ret = Math.max(this._prevProgress, ret); // We don't want to lose percentages when an upload is paused\n    this._prevProgress = ret;\n    return ret;\n  }\n\n  /**\n   * Check whether at least one of this file's chunks is currently uploading\n   */\n  get isUploading(): boolean {\n    return this._chunks.some((chunk) => chunk.status === ResumableChunkStatus.UPLOADING);\n  }\n\n  /**\n   * Check whether all of this file's chunks completed their upload requests and whether it should be\n   * treated as completed.\n   */\n  get isComplete(): boolean {\n    return !this._chunks.some((chunk) =>\n      chunk.status === ResumableChunkStatus.PENDING || chunk.status === ResumableChunkStatus.UPLOADING);\n  }\n\n  /**\n   * Initiate the upload of a new chunk for this file. This function returns whether a new upload was started or not.\n   */\n  upload(): boolean {\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Starting upload of next chunk of ResumableFile...', this);\n    if (this.isPaused) {\n      return false;\n    }\n\n    for (const chunk of this._chunks) {\n      if (chunk.status === ResumableChunkStatus.PENDING) {\n        chunk.send();\n        Helpers.printDebugLow(this.debugVerbosityLevel, 'Started upload of next chunk of ResumableFile.', this);\n        return true;\n      }\n    }\n\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'No chunk found to upload for ResumableFile.', this);\n    return false;\n  }\n\n  /**\n   * Mark a given number of chunks as already uploaded to the server.\n   * @param chunkNumber The index until which all chunks should be marked as completed\n   */\n  markChunksCompleted(chunkNumber: number): void {\n    Helpers.printDebugLow(\n      this.debugVerbosityLevel,\n      'Marking ' + chunkNumber + ' chunks as complete for ResumableFile...',\n      this\n    );\n    if (!this._chunks || this._chunks.length <= chunkNumber) {\n      return;\n    }\n    for (let num = 0; num < chunkNumber; num++) {\n      this._chunks[num].markComplete();\n    }\n    Helpers.printDebugLow(\n      this.debugVerbosityLevel,\n      'Marked ' + chunkNumber + ' chunks as complete for ResumableFile.',\n      this\n    );\n  }\n}\n","import Helpers from './resumableHelpers';\nimport ResumableEventHandler from './resumableEventHandler';\nimport ResumableFile from './resumableFile';\nimport {DebugVerbosityLevel, ResumableChunkStatus, ResumableConfiguration} from './types/types';\n\n/*\n* MIT Licensed\n*\n* For all code added/modified until Sep 24, 2020\n* (see original repo as original code was split up into multiple files)\n* https://www.twentythree.com\n* https://github.com/23/resumable.js\n* Steffen Fagerstrm Christensen, steffen@twentythree.com\n*\n* For all code added/modified since Sep 24, 2020\n* https://www.pointcloudtechnology.com/en/\n* https://github.com/pointcloudtechnology/resumable.js\n* For contact (not the sole author): Marcel Wendler, https://github.com/UniquePanda, marcel.wendler@pointcloudtechnology.com\n*/\n\n/**\n * A file chunk that contains all the data that for a single upload request\n */\nexport default class ResumableChunk extends ResumableEventHandler {\n  private fileObj: ResumableFile;\n  private fileObjSize: number;\n  private fileObjType: string;\n  private offset: number;\n  private lastProgressCallback: Date = new Date;\n  private tested: boolean = false;\n  private retries: number = 0;\n  private pendingRetry: boolean = false;\n  private isMarkedComplete: boolean = false;\n  private loaded: number = 0;\n  private startByte: number;\n  private endByte: number;\n  private xhr: XMLHttpRequest = null;\n\n  // Option properties\n  private chunkSize: number = 1024 * 1024; // 1 MB\n  private fileParameterName: string = 'file';\n  private chunkNumberParameterName: string = 'resumableChunkNumber';\n  private chunkSizeParameterName: string = 'resumableChunkSize';\n  private currentChunkSizeParameterName: string = 'resumableCurrentChunkSize';\n  private totalSizeParameterName: string = 'resumableTotalSize';\n  private typeParameterName: string = 'resumableType';\n  private identifierParameterName: string = 'resumableIdentifier';\n  private fileCategoryParameterName: string = 'resumableFileCategory';\n  private fileNameParameterName: string = 'resumableFilename';\n  private relativePathParameterName: string = 'resumableRelativePath';\n  private totalChunksParameterName: string = 'resumableTotalChunks';\n  private throttleProgressCallbacks: number = 0.5;\n  private query: object = {};\n  private headers: object = {};\n  private method: string = 'multipart';\n  private uploadMethod: string = 'POST';\n  private testMethod: string = 'GET';\n  private parameterNamespace: string = '';\n  private testChunks: boolean = true;\n  private maxChunkRetries: number = 100;\n  private chunkRetryInterval?: number = undefined;\n  private permanentErrors: number[] = [400, 401, 403, 404, 409, 415, 500, 501];\n  private withCredentials: boolean = false;\n  private xhrTimeout: number = 0;\n  private chunkFormat: string = 'blob';\n  private setChunkTypeFromFile: boolean = false;\n  private target: string = '/';\n  private testTarget: string = '';\n\n  private debugVerbosityLevel: DebugVerbosityLevel = DebugVerbosityLevel.NONE;\n\n  constructor(fileObj: ResumableFile, offset: number, options: ResumableConfiguration) {\n    super();\n    this.setInstanceProperties(options);\n    this.fileObj = fileObj;\n    this.fileObjSize = fileObj.size;\n    this.fileObjType = fileObj.file.type;\n    this.offset = offset;\n\n    // Computed properties\n    this.startByte = this.offset * this.chunkSize;\n    this.endByte = Math.min(this.fileObjSize, (this.offset + 1) * this.chunkSize);\n    this.xhr = null;\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Constructed ResumableChunk.', this);\n  }\n\n  /**\n   * Set the options provided inside the configuration object on this instance\n   */\n  private setInstanceProperties(options: ResumableConfiguration): void {\n    Object.assign(this, options);\n    Helpers.printDebugHigh(this.debugVerbosityLevel, 'Set ResumableChunk instance properties.', this);\n  }\n\n  /**\n   * Set the header values for the current XMLHttpRequest\n   */\n  private setCustomHeaders(): void {\n    Helpers.printDebugHigh(this.debugVerbosityLevel, 'Setting custom headers for  XHR of ResumableChunk...', this);\n    if (!this.xhr) {\n      Helpers.printDebugHigh(this.debugVerbosityLevel, 'No XHR found to set custom headers.', this);\n      return;\n    }\n    let customHeaders = this.headers;\n    if (customHeaders instanceof Function) {\n      customHeaders = customHeaders(this.fileObj, this);\n    }\n    for (const header in customHeaders) {\n      if (!customHeaders.hasOwnProperty(header)) continue;\n      this.xhr.setRequestHeader(header, customHeaders[header]);\n    }\n    Helpers.printDebugHigh(this.debugVerbosityLevel, 'Set custom headers for XHR of ResumableChunk.', this);\n  }\n\n  /**\n   * Get query parameters for this chunk as an object, combined with custom parameters if provided\n   */\n  get formattedQuery(): object {\n    var customQuery = this.query;\n    if (typeof customQuery == 'function') customQuery = customQuery(this.fileObj, this);\n\n    // Add extra data to identify chunk\n    const extraData = {\n      // define key/value pairs for additional parameters\n      [this.chunkNumberParameterName]: this.offset + 1,\n      [this.chunkSizeParameterName]: this.chunkSize,\n      [this.currentChunkSizeParameterName]: this.endByte - this.startByte,\n      [this.totalSizeParameterName]: this.fileObjSize,\n      [this.typeParameterName]: this.fileObjType,\n      [this.identifierParameterName]: this.fileObj.uniqueIdentifier,\n      [this.fileCategoryParameterName]: this.fileObj.fileCategory,\n      [this.fileNameParameterName]: this.fileObj.fileName,\n      [this.relativePathParameterName]: this.fileObj.relativePath,\n      [this.totalChunksParameterName]: this.fileObj.chunks.length,\n    };\n    return {...extraData, ...customQuery};\n  }\n\n  /**\n   * Determine the status for this Chunk based on different parameters of the underlying XMLHttpRequest\n   */\n  get status(): ResumableChunkStatus {\n    if (this.pendingRetry) {\n      // if pending retry then that's effectively the same as actively uploading,\n      // there might just be a slight delay before the retry starts\n      return ResumableChunkStatus.UPLOADING;\n    } else if (this.isMarkedComplete) {\n      return ResumableChunkStatus.SUCCESS;\n    } else if (!this.xhr) {\n      return ResumableChunkStatus.PENDING;\n    } else if (this.xhr.readyState < 4) {\n      // Status is really 'OPENED', 'HEADERS_RECEIVED' or 'LOADING' - meaning that stuff is happening\n      return ResumableChunkStatus.UPLOADING;\n    } else if (this.xhr.status === 200 || this.xhr.status === 201) {\n      // HTTP 200, 201 (created)\n      return ResumableChunkStatus.SUCCESS;\n    } else if (this.permanentErrors.includes(this.xhr.status) || this.retries >= this.maxChunkRetries) {\n      // HTTP 400, 404, 409, 415, 500, 501 (permanent error)\n      return ResumableChunkStatus.ERROR;\n    } else {\n      // this should never happen, but we'll reset and queue a retry\n      // a likely case for this would be 503 service unavailable\n      this.abort();\n      return ResumableChunkStatus.PENDING;\n    }\n  };\n\n  /**\n   * Get the target url for the specified request type and the configured parameters of this chunk\n   * @param requestType The type of the request, either 'test' or 'upload'\n   */\n  getTarget(requestType: string): string {\n    return Helpers.getTarget(requestType, this.target, this.testTarget, this.formattedQuery, this.parameterNamespace);\n  }\n\n  /**\n   * Makes a GET request without any data to see if the chunk has already been uploaded in a previous session\n   */\n  private test(): void {\n    Helpers.printDebugHigh(this.debugVerbosityLevel, 'Sending test request for ResumableChunk...', this);\n    // Set up request and listen for event\n    this.xhr = new XMLHttpRequest();\n\n    var testHandler = () => {\n      Helpers.printDebugHigh(this.debugVerbosityLevel, 'Handling test request response for ResumableChunk...', this);\n      this.tested = true;\n      var status = this.status;\n      if (status === ResumableChunkStatus.SUCCESS) {\n        this.fire('chunkSuccess', this.message());\n      } else {\n        this.send();\n      }\n      Helpers.printDebugHigh(this.debugVerbosityLevel, 'Handled test request response for ResumableChunk.', this);\n    };\n    this.xhr.addEventListener('load', testHandler, false);\n    this.xhr.addEventListener('error', testHandler, false);\n    this.xhr.addEventListener('timeout', testHandler, false);\n\n    // Append the relevant chunk and send it\n    this.xhr.open(this.testMethod, this.getTarget('test'));\n    this.xhr.timeout = this.xhrTimeout;\n    this.xhr.withCredentials = this.withCredentials;\n    // Add data from header options\n    this.setCustomHeaders();\n\n    this.xhr.send(null);\n    Helpers.printDebugHigh(this.debugVerbosityLevel, 'Sent test request for ResumableChunk.', this);\n  }\n\n  /**\n   * Abort and reset a request\n   */\n  abort(): void {\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Aborting upload of ResumableChunk...', this);\n    if (this.xhr) this.xhr.abort();\n    this.xhr = null;\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Aborted upload of ResumableChunk.', this);\n  }\n\n  /**\n   *  Uploads the actual data in a POST call\n   */\n  send(): void {\n    if (this.testChunks && !this.tested) {\n      Helpers.printDebugLow(\n        this.debugVerbosityLevel,\n        'Testing upload status of ResumableChunk before uploading...',\n        this\n      );\n      this.test();\n      Helpers.printDebugLow(\n        this.debugVerbosityLevel,\n        'Tested upload status of ResumableChunk before uploading. Chunk already uploaded: '\n          + (this.status === ResumableChunkStatus.SUCCESS ? 'yes' : 'no'),\n        this\n      );\n      return;\n    }\n\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Starting upload of ResumableChunk...', this);\n\n    // Set up request and listen for event\n    Helpers.printDebugHigh(this.debugVerbosityLevel, 'Creating XHR for upload of ResumableChunk...', this, this.xhr);\n    this.xhr = new XMLHttpRequest();\n\n    // Progress\n    this.xhr.upload.addEventListener('progress', (e: ProgressEvent<XMLHttpRequestEventTarget>) => {\n      if (Date.now() - this.lastProgressCallback.getTime() > this.throttleProgressCallbacks * 1000) {\n        this.fire('chunkProgress', this.message());\n        this.lastProgressCallback = new Date();\n      }\n      this.loaded = e.loaded || 0;\n    }, false);\n    this.loaded = 0;\n    this.pendingRetry = false;\n    this.fire('chunkProgress', this.message());\n\n    /**\n     * Handles the different xhr events based on the status of this chunk\n     */\n    let doneHandler = () => {\n      var status = this.status;\n      switch (status) {\n        case ResumableChunkStatus.SUCCESS:\n          Helpers.printDebugHigh(this.debugVerbosityLevel, 'Handling \"chunkSuccess\" in ResumableChunk...', this);\n          this.fire('chunkSuccess', this.message());\n          Helpers.printDebugHigh(this.debugVerbosityLevel, 'Handled \"chunkSuccess\" in ResumableChunk.', this);\n          break;\n        case ResumableChunkStatus.ERROR:\n          Helpers.printDebugHigh(this.debugVerbosityLevel, 'Handling \"chunkError\" in ResumableChunk...', this);\n          this.fire('chunkError', this.message());\n          Helpers.printDebugHigh(this.debugVerbosityLevel, 'Handled \"chunkError\" in ResumableChunk.', this);\n          break;\n        default:\n          Helpers.printDebugHigh(this.debugVerbosityLevel, 'Handling \"chunkRetry\" in ResumableChunk...', this);\n          this.fire('chunkRetry', this.message());\n          this.abort();\n          this.retries++;\n          let retryInterval = this.chunkRetryInterval;\n          if (retryInterval !== undefined) {\n            this.pendingRetry = true;\n            setTimeout(() => this.send(), retryInterval);\n          } else {\n            this.send();\n          }\n          Helpers.printDebugHigh(this.debugVerbosityLevel, 'Handled \"chunkRetry\" in ResumableChunk.', this);\n          break;\n      }\n    };\n    this.xhr.addEventListener('load', doneHandler, false);\n    this.xhr.addEventListener('error', doneHandler, false);\n    this.xhr.addEventListener('timeout', doneHandler, false);\n\n    Helpers.printDebugHigh(this.debugVerbosityLevel, 'Created XHR for upload of ResumableChunk.', this, this.xhr);\n\n    // Set up the basic query data from Resumable\n    Helpers.printDebugHigh(\n      this.debugVerbosityLevel,\n      'Creating data for XHR for upload of ResumableChunk...',\n      this,\n      this.xhr\n    );\n    let bytes = this.fileObj.file.slice(this.startByte, this.endByte,\n      this.setChunkTypeFromFile ? this.fileObj.file.type : '');\n    let data = null;\n    let parameterNamespace = this.parameterNamespace;\n    // Add data from the query options\n    if (this.method === 'octet') {\n      data = bytes;\n      Helpers.printDebugHigh(\n        this.debugVerbosityLevel,\n        'Created \"octet\" data for XHR for upload of ResumableChunk.',\n        this,\n        data\n      );\n    } else {\n      data = new FormData();\n      for (const queryKey in this.formattedQuery) {\n        data.append(parameterNamespace + queryKey, this.formattedQuery[queryKey]);\n      }\n      switch (this.chunkFormat) {\n        case 'blob':\n          data.append(parameterNamespace + this.fileParameterName, bytes, this.fileObj.fileName);\n          Helpers.printDebugHigh(\n            this.debugVerbosityLevel,\n            'Created \"blob\" data for XHR for upload of ResumableChunk.',\n            this,\n            data\n          );\n          break;\n        case 'base64':\n          var fr = new FileReader();\n          fr.onload = () => {\n            data.append(parameterNamespace + this.fileParameterName, fr.result);\n            Helpers.printDebugHigh(\n              this.debugVerbosityLevel,\n              'Created \"base64\" data for XHR for upload of ResumableChunk.',\n              this,\n              data\n            );\n            this.xhr.send(data);\n            Helpers.printDebugHigh(this.debugVerbosityLevel, 'Sent XHR for upload of ResumableChunk.', this, this.xhr);\n          };\n          fr.readAsDataURL(bytes);\n          break;\n      }\n    }\n\n    let target = this.getTarget('upload');\n\n    Helpers.printDebugHigh(this.debugVerbosityLevel, 'Opening XHR for upload of ResumableChunk...', this, this.xhr);\n    this.xhr.open(this.uploadMethod, target);\n    Helpers.printDebugHigh(this.debugVerbosityLevel, 'Opened XHR for upload of ResumableChunk.', this, this.xhr);\n    if (this.method === 'octet') {\n      this.xhr.setRequestHeader('Content-Type', 'application/octet-stream');\n    }\n    this.xhr.timeout = this.xhrTimeout;\n    this.xhr.withCredentials = this.withCredentials;\n    // Add data from header options\n    this.setCustomHeaders();\n\n    if (this.chunkFormat === 'blob') {\n      this.xhr.send(data);\n      Helpers.printDebugHigh(this.debugVerbosityLevel, 'Sent XHR for upload of ResumableChunk.', this, this.xhr);\n    }\n\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Started upload of ResumableChunk.', this);\n  }\n\n  /**\n   * Return the response text of the underlying XMLHttpRequest if it exists\n   */\n  message(): string {\n    return this.xhr ? this.xhr.responseText : '';\n  };\n\n  /**\n   * Return the progress for the current chunk as a number between 0 and 1\n   * @param relative Whether or not the progress should be calculated based on the size of the entire file\n   */\n  progress(relative: boolean = false): number {\n    var factor = relative ? (this.endByte - this.startByte) / this.fileObjSize : 1;\n    if (this.pendingRetry) return 0;\n    if ((!this.xhr || !this.xhr.status) && !this.isMarkedComplete) factor *= .95;\n    switch (this.status) {\n      case ResumableChunkStatus.SUCCESS:\n      case ResumableChunkStatus.ERROR:\n        return factor;\n      case ResumableChunkStatus.PENDING:\n        return 0;\n      default:\n        return this.loaded / (this.endByte - this.startByte) * factor;\n    }\n  }\n\n  /**\n   * Mark this chunk as completed because it was already uploaded to the server.\n   */\n  markComplete(): void {\n    this.isMarkedComplete = true;\n    Helpers.printDebugLow(this.debugVerbosityLevel, 'Marked ResumableChunk as complete.', this);\n  }\n}\n","/*\n* MIT Licensed\n*\n* For all code added/modified until Sep 24, 2020\n* (see original repo as original code was split up into multiple files)\n* https://www.twentythree.com\n* https://github.com/23/resumable.js\n* Steffen Fagerstrm Christensen, steffen@twentythree.com\n*\n* For all code added/modified since Sep 24, 2020\n* https://www.pointcloudtechnology.com/en/\n* https://github.com/pointcloudtechnology/resumable.js\n* For contact (not the sole author): Marcel Wendler, https://github.com/UniquePanda, marcel.wendler@pointcloudtechnology.com\n*/\n\n/**\n * The underlying base class for ResumableJS. This class is responsible for registering and executing\n * events and listeners.\n */\nexport default class ResumableEventHandler {\n  private registeredEventHandlers: { [event: string]: Function[]};\n\n  /**\n   * Construct a new event handler instance.\n   */\n  constructor() {\n    this.registeredEventHandlers = {};\n  }\n\n  /**\n   * Register a new callback for the given event.\n   */\n  on(event: string, callback: Function): void {\n    event = event.toLowerCase();\n    if (!this.registeredEventHandlers.hasOwnProperty(event)) {\n      this.registeredEventHandlers[event] = [];\n    }\n    this.registeredEventHandlers[event].push(callback);\n  }\n\n  /**\n   * Fire the event listeners for the given event with the given arguments as well as the wildcard event '*'\n   */\n  fire(event: string, ...args): void {\n    event = event.toLowerCase();\n\n    this.executeEventCallback(event, ...args);\n    this.executeEventCallback('*', event, ...args);\n  }\n\n  /**\n   * Execute all callbacks for the given event with the provided arguments. This function is only used internally\n   * to call all callbacks registered to a given event individually.\n   */\n  private executeEventCallback(event: string, ...args): void {\n    if (!this.registeredEventHandlers.hasOwnProperty(event)) return;\n    this.registeredEventHandlers[event].forEach((callback) => callback(...args));\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(0);\n",""],"names":[],"sourceRoot":""}